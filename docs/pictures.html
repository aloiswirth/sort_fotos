---

title: Pictures


keywords: fastai
sidebar: home_sidebar

summary: "Create List with all pictures"
description: "Create List with all pictures"
nb_path: "nbs/00_pictures.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/00_pictures.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first step is to get all directories. The reason for this is that the same photo might be stored in different directories. But there also might be photos with the same name but with different content. We will need to compare all photos with the same name in the different directories.<br>
Therefore we start in building a pandas DataFrame with all essential data.</p>
<p>It will contain the directory, the file name, the size and the different time stamps. If this information is not sufficient we will also need to read the picture pixel by pixel and compare.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We now start with the directory list. The root is the mapped MyCloud fileserver with the "My Pictures" folder. We will create an iteratively created list of subdirectories and append them to 'my_Dirs'.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fast_scandir" class="doc_header"><code>fast_scandir</code><a href="https://github.com/aloiswirth/sort_fotos/tree/main/sort_fotos/pictures.py#L16" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fast_scandir</code>(<strong><code>dirname</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;directory&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;file_name&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>directory</th>
      <th>file_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0008.jpg'&gt;</td>
    </tr>
    <tr>
      <th>1</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0007.jpg'&gt;</td>
    </tr>
    <tr>
      <th>2</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0006.jpg'&gt;</td>
    </tr>
    <tr>
      <th>3</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0005.jpg'&gt;</td>
    </tr>
    <tr>
      <th>4</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0004.jpg'&gt;</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>directory</th>
      <th>file_name</th>
      <th>st_mode</th>
      <th>st_ino</th>
      <th>st_dev</th>
      <th>st_nlink</th>
      <th>st_uid</th>
      <th>st_gid</th>
      <th>st_size</th>
      <th>st_atime</th>
      <th>st_mtime</th>
      <th>st_ctime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0008.jpg'&gt;</td>
      <td>33261</td>
      <td>157615585</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>801274</td>
      <td>1226915253</td>
      <td>1226915253</td>
      <td>1226915253</td>
    </tr>
    <tr>
      <th>1</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0007.jpg'&gt;</td>
      <td>33261</td>
      <td>157615586</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>826741</td>
      <td>1226915162</td>
      <td>1226915162</td>
      <td>1226915162</td>
    </tr>
    <tr>
      <th>2</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0006.jpg'&gt;</td>
      <td>33261</td>
      <td>157615587</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>750390</td>
      <td>1226915101</td>
      <td>1226915101</td>
      <td>1226915101</td>
    </tr>
    <tr>
      <th>3</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0005.jpg'&gt;</td>
      <td>33261</td>
      <td>157615588</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>783234</td>
      <td>1226915046</td>
      <td>1226915046</td>
      <td>1226915046</td>
    </tr>
    <tr>
      <th>4</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0004.jpg'&gt;</td>
      <td>33261</td>
      <td>157615589</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>774076</td>
      <td>1226914986</td>
      <td>1226914986</td>
      <td>1226914986</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>directory    object
file_name    object
st_mode       int64
st_ino        int64
st_dev        int64
st_nlink      int64
st_uid        int64
st_gid        int64
st_size       int64
st_atime      int64
st_mtime      int64
st_ctime      int64
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;file_name&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;posix.DirEntry&#39;&gt;
Val_Pagamento_2008_0008.jpg
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>os.stat_result(st_mode=33261, st_ino=157615585, st_dev=77, st_nlink=1, st_uid=0, st_gid=0, st_size=801274, st_atime=1226915253, st_mtime=1226915253, st_ctime=1226915253)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;picture&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[;</span> <span class="p">,</span> <span class="s2">&quot;file_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
    <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>directory</th>
      <th>file_name</th>
      <th>st_mode</th>
      <th>st_ino</th>
      <th>st_dev</th>
      <th>st_nlink</th>
      <th>st_uid</th>
      <th>st_gid</th>
      <th>st_size</th>
      <th>st_atime</th>
      <th>st_mtime</th>
      <th>st_ctime</th>
      <th>picture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0008.jpg'&gt;</td>
      <td>33261</td>
      <td>157615585</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>801274</td>
      <td>1226915253</td>
      <td>1226915253</td>
      <td>1226915253</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>1</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0007.jpg'&gt;</td>
      <td>33261</td>
      <td>157615586</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>826741</td>
      <td>1226915162</td>
      <td>1226915162</td>
      <td>1226915162</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>2</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0006.jpg'&gt;</td>
      <td>33261</td>
      <td>157615587</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>750390</td>
      <td>1226915101</td>
      <td>1226915101</td>
      <td>1226915101</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>3</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0005.jpg'&gt;</td>
      <td>33261</td>
      <td>157615588</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>783234</td>
      <td>1226915046</td>
      <td>1226915046</td>
      <td>1226915046</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>4</th>
      <td>/media/mycloud/My Pictures/My Scans</td>
      <td>&lt;DirEntry 'Val_Pagamento_2008_0004.jpg'&gt;</td>
      <td>33261</td>
      <td>157615589</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>774076</td>
      <td>1226914986</td>
      <td>1226914986</td>
      <td>1226914986</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6022</th>
      <td>/media/mycloud/My Pictures/Album Art/Frederic ...</td>
      <td>&lt;DirEntry 'digitalizar0001.jpg'&gt;</td>
      <td>33261</td>
      <td>157597215</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>848327</td>
      <td>1357408138</td>
      <td>1357408138</td>
      <td>1357408138</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>6023</th>
      <td>/media/mycloud/My Pictures/Album Art/Des'ree/I...</td>
      <td>&lt;DirEntry 'Aint_movin.jpg'&gt;</td>
      <td>33261</td>
      <td>157597216</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>9100</td>
      <td>1357348565</td>
      <td>1357348565</td>
      <td>1357348565</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>6024</th>
      <td>/media/mycloud/My Pictures/Album Art/culcha ca...</td>
      <td>&lt;DirEntry 'Folder.jpg'&gt;</td>
      <td>33261</td>
      <td>157597217</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>21505</td>
      <td>1357348416</td>
      <td>1357348416</td>
      <td>1357348416</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>6025</th>
      <td>/media/mycloud/My Pictures/Album Art/Anna Mari...</td>
      <td>&lt;DirEntry 'anna_maria_kaufmann-das_andere_lebe...</td>
      <td>33261</td>
      <td>157597218</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>11517</td>
      <td>1357348010</td>
      <td>1357348010</td>
      <td>1357348010</td>
      <td>file_name</td>
    </tr>
    <tr>
      <th>6026</th>
      <td>/media/mycloud/My Pictures/Album Art/Alfred Sc...</td>
      <td>&lt;DirEntry '1112D2sBmTL._SL500_AA300_.jpg'&gt;</td>
      <td>33261</td>
      <td>157597219</td>
      <td>77</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>5118</td>
      <td>1357350218</td>
      <td>1357350218</td>
      <td>1357350218</td>
      <td>file_name</td>
    </tr>
  </tbody>
</table>
<p>6027 rows Ã— 13 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

